import { SECTEURS, STATUTS_SECTION } from '../utils/constants'

// Templates professionnels par secteur d'activitÃ©
export const SECTEUR_TEMPLATES = {
  [SECTEURS.DEVELOPPEMENT]: {
    nom: 'DÃ©veloppement',
    icon: 'ðŸ’»',
    couleur: 'blue',
    sections: [
      {
        id: 'fonctionnalites',
        titre: 'FonctionnalitÃ©s attendues',
        description: 'Description dÃ©taillÃ©e des fonctionnalitÃ©s Ã  dÃ©velopper',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'DÃ©crivez les fonctionnalitÃ©s principales, les cas d\'usage, les workflows...',
        defaut: ''
      },
      {
        id: 'livrables', 
        titre: 'Livrables techniques',
        description: 'Liste des Ã©lÃ©ments Ã  livrer',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Code source versionnÃ©',
          'Documentation technique',
          'Tests unitaires',
          'Tests d\'intÃ©gration', 
          'Guide de dÃ©ploiement',
          'Documentation utilisateur'
        ]
      },
      {
        id: 'technologies',
        titre: 'Technologies et contraintes',
        description: 'Stack technique et contraintes d\'architecture',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Technologies imposÃ©es, contraintes d\'architecture, compatibilitÃ©...',
        defaut: ''
      },
      {
        id: 'contraintes_techniques',
        titre: 'Contraintes techniques',
        description: 'Performance, sÃ©curitÃ©, scalabilitÃ©',
        type: 'wysiwyg',
        obligatoire: false,
        placeholder: 'Temps de rÃ©ponse, nombre d\'utilisateurs concurrent, sÃ©curitÃ©...',
        defaut: ''
      },
      {
        id: 'environnements',
        titre: 'Environnements',
        description: 'Environnements de dÃ©veloppement, test et production',
        type: 'checklist',
        obligatoire: false,
        items: [
          'Environnement de dÃ©veloppement',
          'Environnement de test',
          'Environnement de pre-production',
          'Environnement de production'
        ]
      }
    ]
  },

  [SECTEURS.RH]: {
    nom: 'Ressources Humaines', 
    icon: 'ðŸ‘¥',
    couleur: 'green',
    sections: [
      {
        id: 'poste_concerne',
        titre: 'Poste concernÃ©',
        description: 'Description du poste Ã  pourvoir',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'IntitulÃ© du poste, mission principale, rattachement hiÃ©rarchique...',
        defaut: ''
      },
      {
        id: 'profil_recherche',
        titre: 'Profil recherchÃ©',
        description: 'CompÃ©tences et expÃ©rience requises',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Formation, expÃ©rience, compÃ©tences techniques et comportementales...',
        defaut: ''
      },
      {
        id: 'processus_recrutement',
        titre: 'Processus de recrutement',
        description: 'Ã‰tapes du processus de recrutement',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Tri des candidatures',
          'Entretien tÃ©lÃ©phonique',
          'Entretien RH',
          'Entretien technique/mÃ©tier',
          'Tests/Ã©valuations',
          'Prise de rÃ©fÃ©rences'
        ]
      },
      {
        id: 'delai_budget',
        titre: 'DÃ©lai et budget',
        description: 'Planning et enveloppe budgÃ©taire',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Date limite de recrutement, fourchette salariale, coÃ»ts de recrutement...',
        defaut: ''
      },
      {
        id: 'integration',
        titre: 'IntÃ©gration',
        description: 'Process d\'intÃ©gration du nouveau collaborateur',
        type: 'checklist',
        obligatoire: false,
        items: [
          'PrÃ©paration du poste de travail',
          'Parcours d\'intÃ©gration dÃ©fini',
          'Tuteur/mentor dÃ©signÃ©',
          'Formation initiale planifiÃ©e',
          'Point d\'Ã©tape Ã  1 mois',
          'Point d\'Ã©tape Ã  3 mois'
        ]
      }
    ]
  },

  [SECTEURS.COMMUNICATION]: {
    nom: 'Communication',
    icon: 'ðŸ“¢',
    couleur: 'purple',
    sections: [
      {
        id: 'objectifs_communication',
        titre: 'Objectifs de communication',
        description: 'Buts et messages clÃ©s de la campagne',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Objectifs stratÃ©giques, messages principaux, KPI visÃ©s...',
        defaut: ''
      },
      {
        id: 'public_cible',
        titre: 'Public cible',
        description: 'Audience visÃ©e et personas',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'DÃ©mographie, comportements, besoins, canaux de communication privilÃ©giÃ©s...',
        defaut: ''
      },
      {
        id: 'supports_canaux',
        titre: 'Supports et canaux',
        description: 'Moyens de communication Ã  utiliser',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Site web / Landing page',
          'RÃ©seaux sociaux',
          'Emailing',
          'Presse / Relations publiques',
          'Ã‰vÃ©nements',
          'PublicitÃ© digitale',
          'Supports print',
          'VidÃ©o / Podcast'
        ]
      },
      {
        id: 'ton_style',
        titre: 'Ton et style',
        description: 'Ligne Ã©ditoriale et identitÃ© visuelle',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Ton de communication, charte graphique, style rÃ©dactionnel...',
        defaut: ''
      },
      {
        id: 'planning_budget',
        titre: 'Planning et budget',
        description: 'Calendrier et ressources allouÃ©es',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Dates clÃ©s, budget par canal, ressources humaines nÃ©cessaires...',
        defaut: ''
      }
    ]
  },

  [SECTEURS.MARKETING]: {
    nom: 'Marketing',
    icon: 'ðŸ“Š',
    couleur: 'orange',
    sections: [
      {
        id: 'etude_marche',
        titre: 'Ã‰tude de marchÃ©',
        description: 'Analyse du marchÃ© et de la concurrence',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Taille du marchÃ©, concurrents, tendances, opportunitÃ©s...',
        defaut: ''
      },
      {
        id: 'positionnement',
        titre: 'Positionnement produit/service',
        description: 'Proposition de valeur et diffÃ©renciation',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Avantages concurrentiels, proposition de valeur unique...',
        defaut: ''
      },
      {
        id: 'strategies_marketing',
        titre: 'StratÃ©gies marketing',
        description: 'Mix marketing et tactiques',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Marketing digital (SEO/SEA)',
          'Content marketing',
          'Social media marketing',
          'Email marketing', 
          'Marketing automation',
          'Partenariats',
          'Events marketing',
          'Influencer marketing'
        ]
      },
      {
        id: 'kpi_mesure',
        titre: 'KPI et mesure',
        description: 'Indicateurs de performance et outils de mesure',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'KPI principaux, outils d\'analyse, reporting, frÃ©quence de mesure...',
        defaut: ''
      },
      {
        id: 'budget_roi',
        titre: 'Budget et ROI',
        description: 'Investment et retour sur investissement attendu',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Budget global, rÃ©partition par canal, ROI cible, seuil de rentabilitÃ©...',
        defaut: ''
      }
    ]
  },

  [SECTEURS.COMMERCIAL]: {
    nom: 'Commercial',
    icon: 'ðŸ’¼',
    couleur: 'red',
    sections: [
      {
        id: 'objectifs_vente',
        titre: 'Objectifs de vente',
        description: 'Targets et quotas commerciaux',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'Chiffre d\'affaires cible, nombre de contrats, croissance visÃ©e...',
        defaut: ''
      },
      {
        id: 'prospection',
        titre: 'StratÃ©gie de prospection',
        description: 'MÃ©thodes et canaux de prospection',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Prospection tÃ©lÃ©phonique',
          'Emailing commercial',
          'RÃ©seaux sociaux (LinkedIn)',
          'Salons et Ã©vÃ©nements',
          'Recommandations/parrainage',
          'Partenariats commerciaux',
          'PublicitÃ© digitale',
          'DÃ©marchage terrain'
        ]
      },
      {
        id: 'processus_vente',
        titre: 'Processus de vente',
        description: 'Ã‰tapes du cycle de vente',
        type: 'checklist',
        obligatoire: true,
        items: [
          'Qualification du prospect',
          'DÃ©couverte des besoins',
          'PrÃ©sentation de l\'offre',
          'Gestion des objections',
          'NÃ©gociation commerciale',
          'Closing / signature',
          'Onboarding client'
        ]
      },
      {
        id: 'outils_support',
        titre: 'Outils et supports',
        description: 'CRM, documentation commerciale, outils de suivi',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'CRM utilisÃ©, plaquettes commerciales, outils de prÃ©sentation...',
        defaut: ''
      },
      {
        id: 'suivi_reporting',
        titre: 'Suivi et reporting',
        description: 'MÃ©triques et frÃ©quence de reporting',
        type: 'wysiwyg',
        obligatoire: true,
        placeholder: 'KPI suivis, frÃ©quence des points commerciaux, outils de reporting...',
        defaut: ''
      }
    ]
  }
}

// Fonction utilitaire pour crÃ©er un nouveau cahier vide basÃ© sur un template
export const createEmptyCahier = (secteur, auteur) => {
  const template = SECTEUR_TEMPLATES[secteur]
  if (!template) return null

  return {
    id: Date.now(),
    titre: '',
    secteur,
    auteurId: auteur.id,
    auteurNom: auteur.nom,
    dateCreation: new Date().toISOString(),
    dateModification: new Date().toISOString(),
    statut: 'BROUILLON',
    priorite: 'NORMALE',
    sections: template.sections.map(section => ({
      ...section,
      statut: STATUTS_SECTION.NON_COMMENCE,
      contenu: section.defaut || '',
      checkedItems: section.type === 'checklist' ? [] : undefined,
      commentaires: [],
      valideur: null,
      dateValidation: null
    })),
    commentairesGlobaux: [],
    historique: [{
      date: new Date().toISOString(),
      action: 'CREATION',
      auteur: auteur.nom,
      details: 'CrÃ©ation du cahier des charges'
    }],
    version: 1,
    tags: []
  }
}

export default SECTEUR_TEMPLATES